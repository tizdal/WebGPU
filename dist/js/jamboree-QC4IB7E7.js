import{a as k,b as me,c as V}from"./chunk-XLFYWOS5.js";import"./chunk-FMEZA6L3.js";import"./chunk-NSZFW4QT.js";import{A as de,B as D,D as ue,E as he,F as xe,G as ge,y as Le}from"./chunk-WTFWBCMK.js";import{A as R,D as F,E as y,F as w,H as q,S as ce,U as O,b as Ee,e as E,f as ie,h as L,j as ae,k as ne,l as pe,m as le,p as K,t as g,w as fe}from"./chunk-W3RMMDUI.js";var Q;function ye(){return typeof Q>"u"&&(Q=function(){let e={stencil:!0,failIfMajorPerformanceCaveat:F.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!F.ADAPTER.getWebGLRenderingContext())return!1;let r=F.ADAPTER.createCanvas().getContext("webgl2",e),o=!!r?.getContextAttributes()?.stencil;if(r){let s=r.getExtension("WEBGL_lose_context");s&&s.loseContext()}return r=null,o}catch{return!1}}()),Q}async function be(n={}){if(!F.ADAPTER.getNavigator().gpu)return!1;try{return await(await navigator.gpu.requestAdapter(n)).requestDevice(),!0}catch{return!1}}var _e=["webgpu","webgl","canvas"];async function J(n){let e=[];n.preference?(e.push(n.preference),_e.forEach(s=>{s!==n.preference&&e.push(s)})):e=_e.slice();let t;(n.manageImports??!0)&&await import("./all-JRCGC57R.js");let r={};for(let s=0;s<e.length;s++){let a=e[s];if(a==="webgpu"&&await be()){let{WebGPURenderer:i}=await import("./WebGPURenderer-T767JDEQ.js");t=i,r={...n,...n.webgpu};break}else if(a==="webgl"&&ye()){let{WebGLRenderer:i}=await import("./WebGLRenderer-GBTUFZYW.js");t=i,r={...n,...n.webgl};break}else if(a==="canvas"){r={...n};break}}delete r.webgpu,delete r.webgl;let o=new t;return await o.init(r),o}var H=class{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;let e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}};var A=n=>!Array.isArray(n);var $=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){let r={promise:null,parser:null};return r.promise=(async()=>{let o=null,s=null;if(t.loadParser&&(s=this._parserHash[t.loadParser],s||g(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!s){for(let a=0;a<this.parsers.length;a++){let i=this.parsers[a];if(i.load&&i.test?.(e,t,this)){s=i;break}}if(!s)return g(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}o=await s.load(e,t,this),r.parser=s;for(let a=0;a<this.parsers.length;a++){let i=this.parsers[a];i.parse&&i.parse&&await i.testParse?.(o,t,this)&&(o=await i.parse(o,t,this)||o,r.parser=i)}return o})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0,o={},s=A(e),a=y(e,f=>({alias:[f],src:f})),i=a.length,l=a.map(async f=>{let m=k.toAbsolute(f.src);if(!o[f.src])try{this.promiseCache[m]||(this.promiseCache[m]=this._getLoadPromiseAndParser(m,f)),o[f.src]=await this.promiseCache[m].promise,t&&t(++r/i)}catch(b){throw delete this.promiseCache[m],delete o[f.src],new Error(`[Loader.load] Failed to load ${m}.
${b}`)}});return await Promise.all(l),s?o[a[0].src]:o}async unload(e){let r=y(e,o=>({alias:[o],src:o})).map(async o=>{let s=k.toAbsolute(o.src),a=this.promiseCache[s];if(a){let i=await a.promise;delete this.promiseCache[s],a.parser?.unload?.(i,o,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(t.name?e[t.name]&&g(`[Assets] loadParser name conflict "${t.name}"`):g("[Assets] loadParser should have a name"),{...e,[t.name]:t}),{})}};function Se(n,e,t,r,o){let s=e[t];for(let a=0;a<s.length;a++){let i=s[a];t<e.length-1?Se(n.replace(r[t],i),e,t+1,r,o):o.push(n.replace(r[t],i))}}function ve(n){let e=/\{(.*?)\}/g,t=n.match(e),r=[];if(t){let o=[];t.forEach(s=>{let a=s.substring(1,s.length-1).split(",");o.push(a)}),Se(n,o,0,t,r)}else r.push(n);return r}var j=class{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{let t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){let{alias:t,name:r,src:o,srcs:s}=e;return y(t||r||o||s,i=>typeof i=="string"?i:Array.isArray(i)?i.map(l=>l?.src??l?.srcs??l):i?.src||i?.srcs?i.src??i.srcs:i,!0)}addManifest(e){this._manifest&&g("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){let r=[];Array.isArray(t)?t.forEach(o=>{let s=o.src??o.srcs,a=o.alias??o.name,i;if(typeof a=="string"){let l=this._createBundleAssetId(e,a);r.push(l),i=[a,l]}else{let l=a.map(f=>this._createBundleAssetId(e,f));r.push(...l),i=[...a,...l]}this.add({...o,alias:i,src:s})}):Object.keys(t).forEach(o=>{let s=[o,this._createBundleAssetId(e,o)];if(typeof t[o]=="string")this.add({alias:s,src:t[o]});else if(Array.isArray(t[o]))this.add({alias:s,src:t[o]});else{let a=t[o],i=a.src??a.srcs;this.add({...a,alias:s,src:Array.isArray(i)?i:[i]})}r.push(...s)}),this._bundles[e]=r}add(e){let t=[];Array.isArray(e)?t.push(...e):t.push(e);let r;r=s=>{this.hasKey(s)&&g(`[Resolver] already has key: ${s} overwriting`)},y(t).forEach(s=>{let{src:a,srcs:i}=s,{data:l,format:f,loadParser:m}=s,b=y(a||i).map(d=>typeof d=="string"?ve(d):Array.isArray(d)?d:[d]),_=this.getAlias(s);Array.isArray(_)?_.forEach(r):r(_);let G=[];b.forEach(d=>{d.forEach(c=>{let h={};if(typeof c!="object"){h.src=c;for(let C=0;C<this._parsers.length;C++){let W=this._parsers[C];if(W.test(c)){h=W.parse(c);break}}}else l=c.data??l,f=c.format??f,m=c.loadParser??m,h={...h,...c};if(!_)throw new Error(`[Resolver] alias is undefined for this asset: ${h.src}`);h=this._buildResolvedAsset(h,{aliases:_,data:l,format:f,loadParser:m}),G.push(h)})}),_.forEach(d=>{this._assetMap[d]=G})})}resolveBundle(e){let t=A(e);e=y(e);let r={};return e.forEach(o=>{let s=this._bundles[o];if(s){let a=this.resolve(s),i={};for(let l in a){let f=a[l];i[this._extractAssetIdFromBundle(o,l)]=f}r[o]=i}}),t?r[e[0]]:r}resolveUrl(e){let t=this.resolve(e);if(typeof e!="string"){let r={};for(let o in t)r[o]=t[o].src;return r}return t.src}resolve(e){let t=A(e);e=y(e);let r={};return e.forEach(o=>{if(!this._resolverHash[o])if(this._assetMap[o]){let s=this._assetMap[o],a=s[0],i=this._getPreferredOrder(s);i?.priority.forEach(l=>{i.params[l].forEach(f=>{let m=s.filter(b=>b[l]?b[l]===f:!1);m.length&&(s=m)})}),this._resolverHash[o]=s[0]??a}else this._resolverHash[o]=this._buildResolvedAsset({alias:[o],src:o},{});r[o]=this._resolverHash[o]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){let r=e[0],o=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(o)return o}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;let t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}_buildResolvedAsset(e,t){let{aliases:r,data:o,loadParser:s,format:a}=t;return(this._basePath||this._rootPath)&&(e.src=k.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...o||{},...e.data},e.loadParser=s??e.loadParser,e.format=a??e.src.split(".").pop(),e.srcs=e.src,e.name=e.alias,e}};var Y=class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new j,this.loader=new $,this.cache=w,this._backgroundLoader=new H(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){g("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let s=e.manifest;typeof s=="string"&&(s=await this.load(s)),this.resolver.addManifest(s)}let t=e.texturePreference?.resolution??1,r=typeof t=="number"?[t]:t,o=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,t){this._initialized||await this.init();let r=A(e),o=y(e).map(i=>{if(typeof i!="string"){let l=this.resolver.getAlias(i);return l.some(f=>!this.resolver.hasKey(f))&&this.add(i),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(i)||this.add({alias:i,src:i}),i}),s=this.resolver.resolve(o),a=await this._mapLoadToResolve(s,t);return r?a[o[0]]:a}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);let o=this.resolver.resolveBundle(e),s={},a=Object.keys(o),i=0,l=0,f=()=>{t?.(++i/l)},m=a.map(b=>{let _=o[b];return l+=Object.keys(_).length,this._mapLoadToResolve(_,f).then(G=>{s[b]=G})});return await Promise.all(m),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);let t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);let t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return w.get(e);let t={};for(let r=0;r<e.length;r++)t[r]=w.get(e[r]);return t}async _mapLoadToResolve(e,t){let r=Object.values(e),o=Object.keys(e);this._backgroundLoader.active=!1;let s=await this.loader.load(r,t);this._backgroundLoader.active=!0;let a={};return r.forEach((i,l)=>{let f=s[i.src],m=[i.src];i.alias&&m.push(...i.alias),a[o[l]]=f,w.set(m,f)}),a}async unload(e){this._initialized||await this.init();let t=y(e).map(o=>typeof o!="string"?o.src:o),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=y(e);let t=this.resolver.resolveBundle(e),r=Object.keys(t).map(o=>this._unloadFromResolved(t[o]));await Promise.all(r)}async _unloadFromResolved(e){let t=Object.values(e);t.forEach(r=>{w.remove(r.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(let r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((r,o)=>t.indexOf(r)===o),t}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(t=>{!t.config||Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}},P=new Y;ie.handleByList(E.LoadParser,P.loader.parsers).handleByList(E.ResolveParser,P.resolver.parsers).handleByList(E.CacheParser,P.cache.parsers).handleByList(E.DetectionParser,P.detections);function Te(n){let e=n._stroke,t=n._fill;return["transform-origin: top left","display: inline-block",`color: ${L.shared.setValue(t.color).toHex()}`,`font-size: ${n.fontSize}px`,`font-family: ${n.fontFamily}`,`font-weight: ${n.fontWeight}`,`font-style: ${n.fontStyle}`,`font-variant: ${n.fontVariant}`,`letter-spacing: ${n.letterSpacing}px`,`text-align: ${n.align}`,`padding: ${n.padding}px`,`white-space: ${n.whiteSpace}`,...n.lineHeight?[`line-height: ${n.lineHeight}px`]:[],...n.wordWrap?[`word-wrap: ${n.breakWords?"break-all":"break-word"}`,`max-width: ${n.wordWrapWidth}px`]:[],...e?[`-webkit-text-stroke-width: ${e.width}px`,`-webkit-text-stroke-color: ${L.shared.setValue(e.color).toHex()}`,`text-stroke-width: ${e.width}px`,`text-stroke-color: ${L.shared.setValue(e.color).toHex()}`,"paint-order: stroke"]:[],...n.dropShadow?[Re(n.dropShadow)]:[],...n.cssOverrides].join(";")}function Re(n){let e=L.shared.setValue(n.color).setAlpha(n.alpha).toHexa(),t=Math.round(Math.cos(n.angle)*n.distance),r=Math.round(Math.sin(n.angle)*n.distance),o=`${t}px ${r}px`;return n.blur>0?`text-shadow: ${o} ${n.blur}px ${e}`:`text-shadow: ${o} ${e}`}var v=class extends D{constructor(e){super(e),this._cssOverrides=[],this.cssOverrides??(this.cssOverrides=e.cssOverrides)}set cssOverrides(e){this._cssOverrides=e instanceof Array?e:[e],this.update()}get cssOverrides(){return this._cssOverrides}_generateKey(){return this._styleKey=de(this)+this._cssOverrides.join("-"),this._styleKey}update(){this._cssStyle=null,super.update()}clone(){return new v({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides})}get cssStyle(){return this._cssStyle||(this._cssStyle=Te(this)),this._cssStyle}addOverride(...e){let t=e.filter(r=>!this.cssOverrides.includes(r));t.length>0&&(this.cssOverrides.push(...t),this.update())}removeOverride(...e){let t=e.filter(r=>this.cssOverrides.includes(r));t.length>0&&(this.cssOverrides=this.cssOverrides.filter(r=>!t.includes(r)),this.update())}set fill(e){typeof e!="string"&&typeof e!="number"&&g("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=e}set stroke(e){e&&typeof e!="string"&&typeof e!="number"&&g("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=e}};function Z(n,e){return e instanceof D||e instanceof v?e:n==="html"?new v(e):new D(e)}var ke={canvas:"text",html:"htmlText",bitmap:"bitmapText"},X=class{constructor(e){this.uid=ne("textView"),this.renderPipeId="text",this.owner=ce,this.batched=!0,this.resolution=null,this._didUpdate=!0,this.roundPixels=0,this._bounds=[0,1,0,0],this._boundsDirty=!0,this.text=e.text??"";let t=e.renderMode??this._detectRenderType(e.style);this._renderMode=t,this._style=Z(t,e.style),this.renderPipeId=ke[t],this.anchor=new ae(this,0,0),this.resolution=e.resolution??null}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onUpdate())}get text(){return this._text}get style(){return this._style}set style(e){e=e||{},this._style?.off("update",this.onUpdate,this),this._style=Z(this._renderMode,e),this._style.on("update",this.onUpdate,this),this.onUpdate()}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}addBounds(e){let t=this.bounds;e.addFrame(t[0],t[2],t[1],t[3])}containsPoint(e){let t=this.bounds[2],r=this.bounds[3],o=-t*this.anchor.x,s=0;return e.x>=o&&e.x<o+t&&(s=-r*this.anchor.y,e.y>=s&&e.y<s+r)}onUpdate(){this._didUpdate=!0,this._boundsDirty=!0,this.owner.onViewUpdate()}_getKey(){return`${this.text}:${this._style.styleKey}`}_updateBounds(){let e=this._bounds,t=this._style.padding,r=this.anchor;if(this.renderPipeId==="bitmapText"){let o=xe.measureText(this.text,this._style),s=o.scale,a=o.offsetY*s,i=o.width*s,l=o.height*s;e[0]=-r._x*i-t,e[1]=e[0]+i,e[2]=-r._y*(l+a)-t,e[3]=e[2]+l}else if(this.renderPipeId==="htmlText"){let o=ge(this.text,this._style),{width:s,height:a}=o;e[0]=-r._x*s-t,e[1]=e[0]+s,e[2]=-r._y*a-t,e[3]=e[2]+a}else{let o=ue.measureText(this.text,this._style),{width:s,height:a}=o;e[0]=-r._x*s-t,e[1]=e[0]+s,e[2]=-r._y*a-t,e[3]=e[2]+a}}_detectRenderType(e){if(e instanceof v)return"html";let t=w.get(e?.fontFamily);return t instanceof he||t instanceof me?"bitmap":"canvas"}destroy(e=!1){this.owner=null,this._bounds=null,this.anchor=null,this._style.destroy(e),this._style=null,this._text=null}};var U=class extends R{constructor(...e){let t=e[0];(typeof t=="string"||e[1])&&(le(pe,'use new Text({ text: "hi!", style }) instead'),t={text:t,style:e[1]});let{style:r,text:o,renderMode:s,resolution:a,...i}=t;super({view:new X(fe({style:r,text:o,renderMode:s,resolution:a})),label:"Text",...i}),this.allowChildren=!1}get anchor(){return this.view.anchor}set anchor(e){this.view.anchor.x=e.x,this.view.anchor.y=e.y}set text(e){this.view.text=e}get text(){return this.view.text}set style(e){this.view.style=e}get style(){return this.view.style}get roundPixels(){return!!this.view.roundPixels}set roundPixels(e){this.view.roundPixels=e?1:0}};var Oe=Ee(Le(),1);var z=class{constructor(e,t,r,o){this.gravity=.75;this.speedX=Math.random()*10;this.speedY=Math.random()*10-5;this.resetX=0;this.resetY=0;this.positionX=0;this.positionY=0;this.resetX=r,this.resetY=o,this.view=new O(e),this.view.anchor.set(.5,1),this.bounds=t}update(){let e=this.positionX,t=this.positionY;e+=this.speedX,t+=this.speedY,this.speedY+=this.gravity,e>this.bounds.right?(this.speedX*=-1,e=this.bounds.right):e<this.bounds.left&&(this.speedX*=-1,e=this.bounds.left),t>this.bounds.bottom?(this.speedY*=-.85,t=this.bounds.bottom,Math.random()>.5&&(this.speedY-=Math.random()*6)):t<this.bounds.top&&(this.speedY=0,t=this.bounds.top),this.view.position.x=this.positionX=e,this.view.position.y=this.positionY=t}reset(){this.positionX=this.resetX,this.positionY=this.resetY}};q.defaultOptions.scaleMode="nearest";V.defaultEventFeatures.move=!1;V.defaultEventFeatures.globalMove=!1;var De=[];var Ue=0,ee=0,we=0,N=0,te=!1,re=!1,I;async function _r({preference:n}){let e=await J({preference:n,clearBeforeRender:!0,backgroundAlpha:1,backgroundColor:16777215,width:800,height:600,resolution:1,antialias:!1,hello:!0});e.resize(window.innerWidth,window.innerHeight),document.body.appendChild(e.view.canvas);let t=new R,r=Object.values(await P.load(["./assets/bunnies/rabbitv3_ash.png","./assets/bunnies/rabbitv3_batman.png","./assets/bunnies/rabbitv3_bb8.png","./assets/bunnies/rabbitv3_frankenstein.png","./assets/bunnies/rabbitv3_neo.png","./assets/bunnies/rabbitv3_sonic.png","./assets/bunnies/rabbitv3_spidey.png","./assets/bunnies/rabbitv3_stormtrooper.png","./assets/bunnies/rabbitv3_superman.png","./assets/bunnies/rabbitv3_tron.png","./assets/bunnies/rabbitv3_wolverine.png","./assets/bunnies/rabbitv3.png","./assets/challanges/final/EnergyRev.png","./assets/challanges/final/PainMGMT.png","./assets/challanges/final/SenseMotion.png","./assets/challanges/final/ResourceRev.png","./assets/challanges/final/PeekBehindEyes.png","./assets/challanges/final/InteractiveGames.png","./assets/challanges/final/SustainableAI.png"])),o=Object.values(await P.load(["./assets/junction.map.png"])),s=new O(o[0]);s.anchor.x=.5,s.anchor.y=.5,s.position.x=window.innerWidth/3,s.position.y=window.innerHeight/3,t.addChild(s);let a,i,l,f;addEventListener("pointerdown",m),addEventListener("pointermove",b),addEventListener("pointerup",_);function m(p){f=!0,l={x:p.x,y:p.y},console.log("OnDownPress"),console.log(l),setTimeout(function(){console.log("Timeout 400 "),M?Be(l,d):console.log("There was no pause")},700),a=null}function b(p){!f||(a?i={x:p.x-a.x,y:p.y-a.y}:i={x:l.x-p.x,y:l.y-p.y},a={x:p.x,y:p.y},t.x+=i.x,t.y+=i.y)}function _(p){f=!1}let G=new K(0,0,window.innerWidth,window.innerHeight),d=[],c=new U("Basic text in pixi 2");c.x=50,c.y=100,t.addChild(c),setInterval(function(){M?(we>5&&(re?Ce():(te=!0,c.text="Looks like you did not get him",setTimeout(function(){h(),N++,te=!1,M=!1},1e3))),we++):(c.text="Hackathonists Arrived:: "+d.length,N>0&&(c.text+=". SmallTalk failed  "+N+" times"),ee>0&&(c.text+=". You spoke with "+ee))},1e3);function h(p="bunny"){if(p!=""&&p=="bunny"){let u=12,x=d.length%u;C(x,1151.1811026028956,419.6868185311248),Ue++}}function C(p,u,x){let S=De.pop()||new z(r[p],G,u,x);S.reset(),t.addChild(S.view),d.push(S)}function W(){typeof Worker<"u"?typeof I>"u"?(I=new Worker("workers/distance.js"),I.onmessage=Pe):(console.log("Worker already exists."),h()):(console.log("Sorry, your browser does not support Web Workers."),h())}function Ie(p,u){!p||!u||(I?I.postMessage({startPos:p,bunnies:u}):(console.log("Worker not available."),h()))}function Pe(p){console.log("Received message from the worker:",p.data),alert(p.data)}function Be(p,u){console.log("local calculation of closest bunny");let x=-1,S=Number.MAX_VALUE;for(let T=0;T<u.length;T++){let B=u[T];if(Me(B.positionX,B.positionY,25,32,p.x,p.y)){let se=Ge(B.positionX,B.positionY,p.x,p.y);se<S&&(S=se,x=T)}}Ae(x)}function Ae(p){console.log("Received message locally:",p),p>-1&&(re=p)}function Ge(p,u,x,S){return Math.sqrt(Math.pow(x-p,2)+Math.pow(S-u,2))}function Me(p,u,x,S,T,B){return p<T+25&&p+x>T&&u<B+32&&u+S>B}function Fe(){requestAnimationFrame(()=>{let p=Date.now(),u=Math.round(1e3/(Date.now()-p)),x=!0;u<60&&(console.log("fps danger zone"),x=!0),u<24&&(console.log("fps lag detected"),x=!1),x&&h()})}Fe();let M=!1;e.view.canvas.addEventListener("mousedown",p=>{console.log("Pause switcher"),M=!0});function oe(){if(M)te||(c.text="Did you get him ??");else for(let p=0;p<d.length;p++)!d[p]||d[p].update();e.render(t),requestAnimationFrame(oe)}function Ce(){c.text="Bare minimum Win case ! Congrats",setTimeout(function(){re=!1,M=!1,ee++,N--},5e3)}oe(),W()}export{_r as jamboReeUnallocated};
